name = "missiv-server-old-for-conquest-2025-1"
main = "src/worker.ts"
compatibility_date = "2023-08-14"

compatibility_flags = [ "nodejs_compat" ] # for node:async_hooks

[observability.logs]
enabled = true

[[d1_databases]]
binding = "DB" # i.e. available in your Worker on env.DB
database_name = "missiv-conquest-2025-1-db"
database_id = "fbbf9858-63d8-4b56-a869-fe5be0fe4fde"

[durable_objects]
bindings = [
  { name = "ROOMS", class_name = "ServerObjectRoom" },
  #TODO { name = "LIMITERS", class_name = "RateLimiter" }
]

[[migrations]]
tag = "v2"
# TODO new_classes = ["ServerObjectRoom", "RateLimiter"]
new_classes = ["ServerObjectRoom"]